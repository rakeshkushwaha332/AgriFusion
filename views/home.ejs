<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AgriFusion - Home</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.css" rel="stylesheet" />
</head>
<body class="bg-green-100 min-h-screen flex flex-col">

  <!-- Header -->
  <div>
    <%- include('header') %>
  </div>

  <!-- ‚úÖ Success Message -->
  <% if (message === 'registered') { %>
    <div class="max-w-2xl mx-auto mt-4 px-4">
      <div id="reg-success" class="bg-green-200 border border-green-400 text-green-800 px-4 py-3 rounded relative shadow">
        ‚úÖ Registration successful! You can now <a href="/login" class="underline font-semibold">log in</a>.
      </div>
    </div>
  <% } %>

  <!-- Hero Carousel -->
  <div id="default-carousel" class="relative w-full max-w-screen-lg mx-auto mt-6" data-carousel="static">
    <div class="relative h-56 overflow-hidden rounded-lg md:h-96">
      <div class="hidden duration-700 ease-in-out" data-carousel-item>
        <img src="/images/rajesh-ram-HOOKgN_zIY8-unsplash.jpg" class="absolute block w-full h-full object-cover" alt="farm1">
      </div>
      <div class="hidden duration-700 ease-in-out" data-carousel-item>
        <img src="/images/tim-mossholder-xDwEa2kaeJA-unsplash.jpg" class="absolute block w-full h-full object-cover" alt="farm2">
      </div>
      <div class="hidden duration-700 ease-in-out" data-carousel-item>
        <img src="/images/warren-J33qmCVr02A-unsplash.jpg" class="absolute block w-full h-full object-cover" alt="farm3">
      </div>
    </div>
    <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
      <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-white/30 group-hover:bg-white/50">‚ùÆ</span>
    </button>
    <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
      <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-white/30 group-hover:bg-white/50">‚ùØ</span>
    </button>
  </div>

  <!-- Description -->
  <main class="flex-1 flex items-center justify-center text-center px-4 mt-8">
    <div class="max-w-3xl bg-white p-8 rounded-xl shadow-lg">
      <h1 class="text-3xl md:text-4xl font-bold text-green-800 mb-4">Welcome to AgriFusion üåæ</h1>
      <p class="text-lg md:text-xl text-gray-700">
        We are an agriculture platform where farmers can sell their goods directly and get the <span class="font-semibold text-green-700">best price</span>.
        Our main motive is to <span class="font-semibold text-green-700">eliminate middlemen</span> and provide <span class="font-semibold text-green-700">high-quality agricultural goods</span> to consumers while ensuring <span class="font-semibold text-green-700">maximum profit</span> for our farmers.
      </p>
    </div>
  </main>

  <!-- How It Works -->
  <section class="px-4 py-16 bg-green-100">
    <h2 class="text-3xl font-bold text-center text-green-800 mb-16">How It Works</h2>
    <div class="relative flex flex-col md:flex-row items-center justify-center space-y-16 md:space-y-0 md:space-x-12 max-w-6xl mx-auto">
      <% const steps = [
        'Farmer enlists their products',
        'We provide market access to farmers',
        'Consumers directly purchase goods',
        'Farmers get good value for their products',
        'Consumers get high-quality agricultural goods'
      ]; %>
      <% steps.forEach((text, index) => { %>
        <div class="flex flex-col items-center text-center">
          <div class="bg-green-300 text-white w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold shadow-lg mb-4">
            <%= index + 1 %>
          </div>
          <p class="text-lg font-medium max-w-[160px]"><%= text %></p>
        </div>
        <% if (index !== steps.length - 1) { %>
          <div class="hidden md:block text-4xl text-green-600">‚Üí</div>
        <% } %>
      <% }) %>
    </div>
  </section>

  <!-- Footer -->
  <div class="mt-8">
    <%- include('footer') %>
  </div>

  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.js"></script>
  <script>
    // Auto-dismiss message after 5s
    setTimeout(() => {
      const msg = document.getElementById('reg-success');
      if (msg) msg.style.display = 'none';
    }, 5000);
  </script>
</body>
</html>
